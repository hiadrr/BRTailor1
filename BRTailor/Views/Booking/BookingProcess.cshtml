@model dynamic

@{
    ViewBag.Title = "BookingProcess";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
<form method="POST" action="/Booking/GenerateBill" >
    @*Customer Portion*@
<div class="col-lg-12">
    <section class="box ">
        <header class="panel_header">
            <h2 class="title pull-left">Customer Detail</h2>
            <div class="actions panel_actions pull-right">
                <i class="box_toggle fa fa-chevron-down"></i>
                <i class="box_setting fa fa-cog" data-toggle="modal" href="#section-settings"></i>
                <i class="box_close fa fa-times"></i>
            </div>
        </header>
        <div class="content-body">
            <div class="row">
                <div class="col-xs-3" hidden>
                    <input type="text" class="form-control is-valid" value="@Model.Customer.Customer_ID" id="Customer_ID" name="Customer_ID" readonly>
                    </div>
                    <div class="col-xs-3">
                        <label>Customer Name</label>
                        <input type="text" class="form-control is-valid" value="@Model.Customer.Customer_Name" id="Customer_Name" name="Customer_Name" readonly>
                    </div>
                    <div class="col-xs-3">
                        <label>Customer Phone</label>
                        <input type="text" class="form-control is-valid" value="@Model.Customer.Customer_Phone" id="Customer_Phone" name="Customer_Phone" readonly>
                    </div>
                    <div class="col-xs-3">
                        <label>Customer Address</label>
                        <input type="text" class="form-control is-valid" value="@Model.Customer.Customer_Address" id="Customer_Address" name="Customer_Address" readonly>
                    </div>
                    <div class="col-xs-3">
                        <label>Customer City</label>
                        <input type="text" class="form-control is-valid" value="@Model.Customer.Customer_City" id="Customer_City" name="Customer_City" readonly>
                    </div>
                </div>
        </div>
        @*Measurment Portion*@
        <header class="panel_header">
            <h2 class="title pull-left">Measurment Detail</h2>
            <div class="actions panel_actions pull-right">
                <i class="box_toggle fa fa-chevron-down"></i>
                <i class="box_setting fa fa-cog" data-toggle="modal" href="#section-settings"></i>
                <i class="box_close fa fa-times"></i>
            </div>
        </header>
        <div class="content-body">
            <div class="row">
                @foreach (var item in Model.Measurment)
                    {
                    <div class="col-xs-6">
                        <label>ID</label>
                        <input type="text" class="form-control is-valid" value="@item.Measurment_Type_ID" id="Measurment_Type_ID" name="Measurment_Type_ID" readonly>

                    </div>
                        <div class="col-xs-6">
                            <label>Item Name</label>
                            <input type="text" class="form-control is-valid" value="@item.MeasurmentType.Measurment_Type" id="Measurment_Type" name="Measurment_Type" readonly>

                        </div>
                     }
            </div>
        </div>
       
    </section>
</div>
    @*Design Portion*@
<div class="col-xs-7">
    <section class="box">
        <header class="panel_header">
            <h2 class="title pull-left">Design Selection</h2>
            <div class="actions panel_actions pull-right">
                <i class="box_toggle fa fa-chevron-down"></i>
                <i class="box_setting fa fa-cog" data-toggle="modal" href="#section-settings"></i>
                <i class="box_close fa fa-times"></i>
            </div>
        </header>
        <div class="content-body">

            <div class="row">
                <div class="col-xs-4">
                    <label>Select Design</label>
                    @Html.DropDownList("Design_ID", (IEnumerable<SelectListItem>)ViewData["DBMySkills"], "-Select Code- ", htmlAttributes: new { @class = "form-control", name = "Design_ID", id = "Design_ID" })
                </div>
                <div class="col-xs-4" id="selectImage">
                    <ul>
                        <li>

                            <label for="myCheckbox1"><img src="" id="chng1" width="150" /></label>

                        </li>
                    </ul>
                </div>
                <div class="col-xs-4" hidden>
                    <input type="text" class="form-control is-valid" value="" id="Design_IDnew" name="Design_ID" readonly>
                </div>
                <div class="col-xs-4">
                        <label>Design Price</label>
                        <input type="text" class="form-control is-valid" value="" id="Design_Price" name="Design_Price" readonly>
                    </div>
                </div>

            </div>

    </section>
    </div>
    @*Booking Portion*@
<div class="col-xs-5">
    <section class="box">
        <header class="panel_header">
            <h2 class="title pull-left">Booking Details</h2>
            <div class="actions panel_actions pull-right">
                <i class="box_toggle fa fa-chevron-down"></i>
                <i class="box_setting fa fa-cog" data-toggle="modal" href="#section-settings"></i>
                <i class="box_close fa fa-times"></i>
            </div>
        </header>
        <div class="content-body">

            <div class="row">
                <div class="col-xs-7">

                    <label>Price</label>
                    <input type="text" class="form-control is-valid" id="Price" name="Price" required>
                    <br>
                    <input type="submit" class="btn btn-default" value="Generate Bill">
                </div>

            </div>

        </div>

    </section>
</div>
    </form>
<script src="~/assets/js/jquery-1.11.2.min.js"></script>
<script>
    $(document).ready(function () {
        $("#selectImage").hide();
        $("#Design_ID").change(function () {

            var DesignId = parseInt($(this).val());
         
                $.ajax({  
                    url: "/Booking/GetDesign",
                    type: "GET",
                    datatype: "json",
                    data: { Design_ID: DesignId },
                    contentType: 'application/json; charset=utf-8',
                    success: function(data) {  
                        $('#Design_Price').val(data.Design_Price);
                        $("#selectImage").show();
                        $('#chng1').attr('src', data.Design_Image);
                        $('#Design_IDnew').val(data.Design_ID);
            },  
            error: function() {  
                alert("Error occured!!")  
            }  
               
                });
          
        });
        
       
      
    });
    </script>
